<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        >

    <ui:composition template="/template.xhtml">
        <ui:define name="pageContent">
            <h1>Fill in Address Data</h1>
            <h:outputText value="#{registrationFlowBean.person.firstName}"/> <!-- data from previous page -->
            <h:outputText value="#{registrationFlowBean.person.lastName}"/>
            <h:form>
                <div class="form-group #{not component.findComponent('street').valid and facesContext.validationFailed ? 'has-error' : ''}">
                    <h:outputLabel for="street">Street</h:outputLabel>
                    <h:inputText id="street" value="#{registrationFlowBean.person.address.street}" styleClass="form-control"/>
                    <h:message for="street" errorClass="control-label has-error"/>
                </div>
                <div class="form-group #{not component.findComponent('number').valid and facesContext.validationFailed ? 'has-error' : ''}">
                    <h:outputLabel for="number">Number</h:outputLabel>
                    <h:inputText id="number" value="#{registrationFlowBean.person.address.number}" styleClass="form-control"/>
                    <h:message for="number" errorClass="control-label has-error"/>
                </div>
                <div class="form-group #{not component.findComponent('postalCode').valid and facesContext.validationFailed ? 'has-error' : ''}">
                    <h:outputLabel for="postalCode">Postal Code</h:outputLabel>
                    <h:inputText id="postalCode" value="#{registrationFlowBean.person.address.postalCode}" styleClass="form-control"/>
                    <h:message for="postalCode" errorClass="control-label has-error"/>
                </div>
                <div class="form-group #{not component.findComponent('city').valid and facesContext.validationFailed ? 'has-error' : ''}">
                    <h:outputLabel for="city">City</h:outputLabel>
                    <h:inputText id="city" value="#{registrationFlowBean.person.address.city}" styleClass="form-control"/>
                    <h:message for="city" errorClass="control-label has-error"/>
                </div>
                <h:commandButton value="Finish" action="end" styleClass="btn btn-primary"/>
            </h:form>
        </ui:define>
    </ui:composition>

</html>
